plugins {
	id 'java-gradle-plugin'
	id 'groovy'
}

def plugin =
		new GroovyScriptEngine(file('src/main/groovy').absolutePath, this.class.classLoader)
				.loadScriptByName('io/enfuse/plugin/ChatGPTPlugin.groovy')

apply plugin: plugin

chatGPT {
	path = "env.properties"
}

group = 'io.enfuse.plugin'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = 17

repositories {
	mavenCentral()
}

dependencies {
	testImplementation platform("org.spockframework:spock-bom:2.2-groovy-3.0")
	testImplementation 'org.spockframework:spock-core'
	testImplementation 'net.bytebuddy:byte-buddy:1.14.3'
}

tasks.withType(Test).configureEach {
	useJUnitPlatform()
}
